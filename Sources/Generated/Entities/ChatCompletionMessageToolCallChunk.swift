// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

public struct ChatCompletionMessageToolCallChunk: Codable {
    public var index: Int
    /// The ID of the tool call.
    public var id: String?
    /// The type of the tool. Currently, only `function` is supported.
    public var type: `Type`?
    public var function: Function?

    /// The type of the tool. Currently, only `function` is supported.
    public enum `Type`: String, Codable, CaseIterable {
        case function
    }

    public struct Function: Codable {
        /// The name of the function to call.
        public var name: String?
        /// The arguments to call the function with, as generated by the model in JSON format. Note that the model does not always generate valid JSON, and may hallucinate parameters not defined by your function schema. Validate the arguments in your code before calling your function.
        public var arguments: String?

        public init(name: String? = nil, arguments: String? = nil) {
            self.name = name
            self.arguments = arguments
        }

        public init(from decoder: Decoder) throws {
            let values = try decoder.container(keyedBy: StringCodingKey.self)
            self.name = try values.decodeIfPresent(String.self, forKey: "name")
            self.arguments = try values.decodeIfPresent(String.self, forKey: "arguments")
        }

        public func encode(to encoder: Encoder) throws {
            var values = encoder.container(keyedBy: StringCodingKey.self)
            try values.encodeIfPresent(name, forKey: "name")
            try values.encodeIfPresent(arguments, forKey: "arguments")
        }
    }

    public init(index: Int, id: String? = nil, type: `Type`? = nil, function: Function? = nil) {
        self.index = index
        self.id = id
        self.type = type
        self.function = function
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.index = try values.decode(Int.self, forKey: "index")
        self.id = try values.decodeIfPresent(String.self, forKey: "id")
        self.type = try values.decodeIfPresent(`Type`.self, forKey: "type")
        self.function = try values.decodeIfPresent(Function.self, forKey: "function")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encode(index, forKey: "index")
        try values.encodeIfPresent(id, forKey: "id")
        try values.encodeIfPresent(type, forKey: "type")
        try values.encodeIfPresent(function, forKey: "function")
    }
}
