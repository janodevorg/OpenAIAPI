// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

/// Represents a verbose json transcription response returned by model, based on the provided input.
public struct CreateTranscriptionResponseVerboseJSON: Codable {
    /// The language of the input audio.
    public var language: String
    /// The duration of the input audio.
    public var duration: String
    /// The transcribed text.
    public var text: String
    /// Extracted words and their corresponding timestamps.
    public var words: [TranscriptionWord]?
    /// Segments of the transcribed text and their corresponding details.
    public var segments: [TranscriptionSegment]?

    public init(language: String, duration: String, text: String, words: [TranscriptionWord]? = nil, segments: [TranscriptionSegment]? = nil) {
        self.language = language
        self.duration = duration
        self.text = text
        self.words = words
        self.segments = segments
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.language = try values.decode(String.self, forKey: "language")
        self.duration = try values.decode(String.self, forKey: "duration")
        self.text = try values.decode(String.self, forKey: "text")
        self.words = try values.decodeIfPresent([TranscriptionWord].self, forKey: "words")
        self.segments = try values.decodeIfPresent([TranscriptionSegment].self, forKey: "segments")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encode(language, forKey: "language")
        try values.encode(duration, forKey: "duration")
        try values.encode(text, forKey: "text")
        try values.encodeIfPresent(words, forKey: "words")
        try values.encodeIfPresent(segments, forKey: "segments")
    }
}
