// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

public struct CreateImageEditRequest: Codable {
    /// The image to edit. Must be a valid PNG file, less than 4MB, and square. If mask is not provided, image must have transparency, which will be used as the mask.
    public var image: String
    /// An additional image whose fully transparent areas (e.g. where alpha is zero) indicate where `image` should be edited. Must be a valid PNG file, less than 4MB, and have the same dimensions as `image`.
    public var mask: String?
    /// A text description of the desired image(s). The maximum length is 1000 characters.
    ///
    /// Example: "A cute baby sea otter wearing a beret"
    public var prompt: String
    /// The number of images to generate. Must be between 1 and 10.
    public var n: Int?
    /// The size of the generated images. Must be one of `256x256`, `512x512`, or `1024x1024`.
    ///
    /// Example: "1024x1024"
    public var size: Size?
    /// The format in which the generated images are returned. Must be one of `url` or `b64_json`.
    ///
    /// Example: "url"
    public var responseFormat: ResponseFormat?
    /// A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices/end-user-ids).
    ///
    /// Example: "user-1234"
    public var user: String?

    /// The size of the generated images. Must be one of `256x256`, `512x512`, or `1024x1024`.
    ///
    /// Example: "1024x1024"
    public enum Size: String, Codable, CaseIterable {
        case _256x256 = "256x256"
        case _512x512 = "512x512"
        case _1024x1024 = "1024x1024"
    }

    /// The format in which the generated images are returned. Must be one of `url` or `b64_json`.
    ///
    /// Example: "url"
    public enum ResponseFormat: String, Codable, CaseIterable {
        case url
        case b64JSON = "b64_json"
    }

    public init(image: String, mask: String? = nil, prompt: String, n: Int? = nil, size: Size? = nil, responseFormat: ResponseFormat? = nil, user: String? = nil) {
        self.image = image
        self.mask = mask
        self.prompt = prompt
        self.n = n
        self.size = size
        self.responseFormat = responseFormat
        self.user = user
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.image = try values.decode(String.self, forKey: "image")
        self.mask = try values.decodeIfPresent(String.self, forKey: "mask")
        self.prompt = try values.decode(String.self, forKey: "prompt")
        self.n = try values.decodeIfPresent(Int.self, forKey: "n")
        self.size = try values.decodeIfPresent(Size.self, forKey: "size")
        self.responseFormat = try values.decodeIfPresent(ResponseFormat.self, forKey: "response_format")
        self.user = try values.decodeIfPresent(String.self, forKey: "user")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encode(image, forKey: "image")
        try values.encodeIfPresent(mask, forKey: "mask")
        try values.encode(prompt, forKey: "prompt")
        try values.encodeIfPresent(n, forKey: "n")
        try values.encodeIfPresent(size, forKey: "size")
        try values.encodeIfPresent(responseFormat, forKey: "response_format")
        try values.encodeIfPresent(user, forKey: "user")
    }
}
