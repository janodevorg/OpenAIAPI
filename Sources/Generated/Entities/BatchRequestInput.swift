// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

/// The per-line object of the batch input file
public struct BatchRequestInput: Codable {
    /// A developer-provided per-request id that will be used to match outputs to inputs. Must be unique for each request in a batch.
    public var customID: String?
    /// The HTTP method to be used for the request. Currently only `POST` is supported.
    public var method: Method?
    /// The OpenAI API relative URL to be used for the request. Currently `/v1/chat/completions`, `/v1/embeddings`, and `/v1/completions` are supported.
    public var url: String?

    /// The HTTP method to be used for the request. Currently only `POST` is supported.
    public enum Method: String, Codable, CaseIterable {
        case post = "POST"
    }

    public init(customID: String? = nil, method: Method? = nil, url: String? = nil) {
        self.customID = customID
        self.method = method
        self.url = url
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.customID = try values.decodeIfPresent(String.self, forKey: "custom_id")
        self.method = try values.decodeIfPresent(Method.self, forKey: "method")
        self.url = try values.decodeIfPresent(String.self, forKey: "url")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encodeIfPresent(customID, forKey: "custom_id")
        try values.encodeIfPresent(method, forKey: "method")
        try values.encodeIfPresent(url, forKey: "url")
    }
}
