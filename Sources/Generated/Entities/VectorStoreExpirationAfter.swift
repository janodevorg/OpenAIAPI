// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

/// Vector store expiration policy
///
/// The expiration policy for a vector store.
public struct VectorStoreExpirationAfter: Codable {
    /// Anchor timestamp after which the expiration policy applies. Supported anchors: `last_active_at`.
    public var anchor: Anchor
    /// The number of days after the anchor time that the vector store will expire.
    public var days: Int

    /// Anchor timestamp after which the expiration policy applies. Supported anchors: `last_active_at`.
    public enum Anchor: String, Codable, CaseIterable {
        case lastActiveAt = "last_active_at"
    }

    public init(anchor: Anchor, days: Int) {
        self.anchor = anchor
        self.days = days
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.anchor = try values.decode(Anchor.self, forKey: "anchor")
        self.days = try values.decode(Int.self, forKey: "days")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encode(anchor, forKey: "anchor")
        try values.encode(days, forKey: "days")
    }
}
